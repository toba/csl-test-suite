>>==== MODE ====>>
bibliography
<<==== MODE ====<<

>>==== DESCRIPTION ====>>

This depends on

1. identifying when citation-number is used,

2. outputting a particular error message in place of a reference that produces
   no output, to maintain citation-number sequencing, and

2. rendering the <bibliography/> <text variable="citation-number"/>
   for the omitted reference, ignoring the conditions that omitted the
   reference.

For an implementation example, see
https://github.com/zotero/citeproc-rs/blob/master/crates/proc/src/db.rs#L1414

Compare to the sort_OmittedBibRefNonNumericStyle test which has a similar
non-rendering reference but no citation-numbers.

<<==== DESCRIPTION ====<<

>>==== RESULT ====>>
<div class="csl-bib-body">
  <div class="csl-entry">1. Anderson, Book One</div>
  <div class="csl-entry">2. [CSL STYLE ERROR: reference with no printed form.]</div>
  <div class="csl-entry">3. Crane, Book Two</div>
</div>
<<==== RESULT ====<<

>>==== CITATION-ITEMS ====>>
[
    [
        {
            "id": "ITEM-1"
        },
        {
            "id": "ITEM-2"
        },
        {
            "id": "ITEM-3"
        }
    ]
]
<<==== CITATION-ITEMS ====<<

>>==== CSL ====>>
<style
      xmlns="http://purl.org/net/xbiblio/csl"
      class="note"
      version="1.0">
  <info>
    <id />
    <title />
    <updated>2009-08-10T04:49:00+09:00</updated>
  </info>
  <macro name="author">
    <names variable="author">
      <name form="short" />
    </names>
  </macro>
  <citation>
    <sort>
      <key variable="citation-number"/>
    </sort>
    <layout prefix="(" suffix=")" delimiter="; ">
      <choose>
        <if type="personal_communication">
          <group delimiter=", ">
            <text macro="author" />
            <text variable="title"/>
          </group>
        </if>
        <else>
          <text variable="citation-number"/>
        </else>
      </choose>
    </layout>
  </citation>
  <bibliography>
    <layout>
      <choose>
        <if match="none" type="personal_communication">
          <group delimiter=". ">
            <text variable="citation-number"/>
            <group delimiter=", ">
              <text macro="author" />
              <text variable="title"/>
            </group>
          </group>
        </if>
      </choose>
    </layout>
  </bibliography>
</style>
<<==== CSL ====<<

>>==== INPUT ====>>
[
  {
    "author": [
      {
        "family": "Anderson",
        "given": "Andrew"
      }
    ],
    "id": "ITEM-1",
    "title": "Book One",
    "type": "book"
  },
  {
    "author": [
      {
        "family": "Brown",
        "given": "Burt"
      }
    ],
    "id": "ITEM-2",
    "title": "Letter One",
    "type": "personal_communication"
  },
  {
    "author": [
      {
        "family": "Crane",
        "given": "Clive"
      }
    ],
    "id": "ITEM-3",
    "title": "Book Two",
    "type": "book"
  }
]
<<==== INPUT ====<<



>>===== VERSION =====>>
1.0
<<===== VERSION =====<<
